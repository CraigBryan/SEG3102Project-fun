<div class="row">
  <div class="col-md-6 col-md-offset-3">

    <h1>Update property</h1>

    <%= form_for @property, :html => {:multipart => true} do |prop_form| %>

      <%= prop_form.label "Type of property" %>
      <br>
      <%= prop_form.label :house_type, "House" %>
      <%= prop_form.radio_button :prop_type, "house", disabled: true %>
      <%= prop_form.label :apt_type, "Apartment" %>
      <%= prop_form.radio_button :prop_type, "apartment", disabled: true %>
      <br>

      <%= prop_form.label :address %>
      <%= prop_form.text_field :address, disabled: true, class: 'form-control'%>
      <br>

      <%= prop_form.label :location %>
      <%= prop_form.text_field :location, disabled: true, class: 'form-control'%>
      <br>
      <br>

      <%= prop_form.label :number_bathrooms %>
      <%= prop_form.number_field :number_bathrooms, :min => 0, class: 'form-control' %>
      <br>

      <%= prop_form.label :number_bedrooms %>
      <%= prop_form.number_field :number_bedrooms, :min => 0, class: 'form-control' %>
      <br>

      <%= prop_form.label :number_other_rooms %>
      <%= prop_form.number_field :number_other_rooms, :min => 0, class: 'form-control' %>
      <br>

      <%= prop_form.label :rent_price %>
      <%= prop_form.number_field :rent_price, :min => 0, class: 'form-control'%>

      <h3>Photos</h3>
      <% 5.times do |i| %>
        <% unless @photos[i].nil? %>
          <%= hidden_field_tag "photo_#{i}_original_id", @photos[i].id %>
          <%= image_tag @photos[i].file, 
                        size: "50x50", 
                        alt: "Photo #{i}", 
                        id: "photo_#{i}" %>
          <%= button_tag "Delete photo", id: "delete_photo_#{i}", type: "button" %>
          <%= label_tag "Replace file:" %>
        <% else %>
          <%= label_tag "Upload file:" %>
        <% end %>
        
        <%= file_field_tag "photos#{i}", id: "upload_photo_#{i}" %>
        <% unless @photos[i].nil? %>
          
        <% end %>
        <%= hidden_field_tag "photo_#{i}_deleted", false %>
        <%= hidden_field_tag "photo_#{i}_changed", false %>
        <br>
      <% end %>

      <%= prop_form.submit "Update Property", class: 'btn btn-primary' %>
    <% end %>

  </div>
</div>

<%= javascript_include_tag "specific/property_edit" %>
